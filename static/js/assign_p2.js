    console.log("===== assign_p2.js is working =====")


// ##### ‡∏à‡∏±‡∏ö activityid ‡πÉ‡∏™‡πà list
    document.getElementById("but-next2").addEventListener("click", () => {
    console.log("===== assign_p2.js - getElementById(\"but-next2\") is working =====")
        const checkboxes = document.querySelectorAll('input[name="lesson"]');
        const selectedIds = [];

        checkboxes.forEach(checkbox => {
            if (checkbox.checked) {
            selectedIds.push(checkbox.id); // ‡πÄ‡∏ä‡πà‡∏ô "s1", "s2"
            }
        });

        // ‡πÅ‡∏õ‡∏•‡∏á "s1" ‚Üí 1, "s2" ‚Üí 2
        const mappedIds = selectedIds.map(id => {
            const match = id.match(/\d+/);
            return match ? parseInt(match[0], 10) : null;
        }).filter(n => n !== null);

        console.log("Mapped IDs:", mappedIds);

        // ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡πÄ‡∏â‡∏û‡∏≤‡∏∞ dropdown ‡∏ó‡∏µ‡πà‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ö mappedIds
        const allTemplates = document.querySelectorAll('.each-tem');
        allTemplates.forEach((tem, index) => {
            if (mappedIds.includes(index + 1)) {
            tem.style.display = "flex"; // ‡∏´‡∏£‡∏∑‡∏≠ "block" ‡∏ï‡∏≤‡∏° layout ‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ
            } else {
            tem.style.display = "none";
            }
        });
    });

// ##### description ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÑ‡∏õ‡∏ï‡∏≤‡∏°‡∏ó‡∏µ‡πà‡πÄ‡∏•‡∏∑‡∏≠‡∏Å dropdown (template)
    const templateDetails = {
        // * t[‡πÄ‡∏•‡∏Ç templateid] ‡∏Å‡∏£‡∏≤‡∏ö‡∏Ç‡∏≠‡∏≠‡∏†‡∏±‡∏¢‡∏°‡∏±‡∏ô‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏™‡πà‡∏°‡∏∑‡∏≠ ‡πÇ‡∏≠‡πâ‡∏¢
        "s1-1": {
            t1: { text: "‡∏≠‡∏∞ ‡∏≠‡∏¥ ‡∏≠‡∏∂ ‡∏≠‡∏∏ ‡πÄ‡∏≠‡∏∞ ‡πÅ‡∏≠‡∏∞ ‡πÄ‡∏≠‡∏≠‡∏∞ ‡πÇ‡∏≠‡∏∞ ‡πÄ‡∏≠‡∏≤‡∏∞ ‡πÄ‡∏≠‡∏µ‡∏¢‡∏∞ ‡πÄ‡∏≠‡∏∑‡∏≠‡∏∞ ‡∏≠‡∏±‡∏ß‡∏∞ ", img: "/static/img/maxresdefault.jpg" },
            t2: { text: "‡∏≠‡∏≤ ‡∏≠‡∏µ ‡∏≠‡∏∑‡∏≠ ‡∏≠‡∏π ‡πÄ‡∏≠ ‡πÅ‡∏≠ ‡πÇ‡∏≠ ‡∏≠‡∏≠ ‡πÄ‡∏≠‡∏≠ ‡πÄ‡∏≠‡∏µ‡∏¢ ‡πÄ‡∏≠‡∏∑‡∏≠ ‡∏≠‡∏±‡∏ß ‡∏§‡πÖ ‡∏¶‡πÖ", img: "/static/img/maxresdefault.jpg" },
            t3: { text: "‡∏≠‡∏∞ ‡∏≠‡∏≤ ‡∏≠‡∏¥ ‡∏≠‡∏µ ‡∏≠‡∏∂ ‡∏≠‡∏∑‡∏≠ ‡∏≠‡∏∏ ‡∏≠‡∏π ‡πÄ‡∏≠‡∏∞ ‡πÄ‡∏≠ ‡πÅ‡∏≠‡∏∞ ‡πÅ‡∏≠ ‡πÇ‡∏≠‡∏∞ ‡πÇ‡∏≠ ‡πÄ‡∏≠‡∏≤‡∏∞ ‡∏≠‡∏≠ ‡πÄ‡∏≠‡∏≠‡∏∞ ‡πÄ‡∏≠‡∏≠ ‡πÄ‡∏≠‡∏µ‡∏¢‡∏∞ ‡πÄ‡∏≠‡∏µ‡∏¢ ‡πÄ‡∏≠‡∏∑‡∏≠‡∏∞ ‡πÄ‡∏≠‡∏∑‡∏≠ ‡∏≠‡∏±‡∏ß‡∏∞ ‡∏≠‡∏±‡∏ß ‡∏§ ‡∏§‡πÖ ‡∏¶ ‡∏¶‡πÖ ‡∏≠‡∏≥ ‡πÉ‡∏≠ ‡πÑ‡∏≠ ‡πÄ‡∏≠‡∏≤", img: "/static/img/maxresdefault.jpg" }
        },
        "s1-2": {
            t4: { text: "‡∏Ñ‡∏≥‡∏Å‡∏¥‡∏£‡∏¥‡∏¢‡∏≤: ‡∏Å‡∏¥‡∏ô ‡∏≠‡∏≤‡∏ö ‡∏´‡∏¥‡∏ß ‡∏î‡∏π ‡πÄ‡∏î‡∏¥‡∏ô ‡∏ß‡∏¥‡πà‡∏á ‡∏ü‡∏±‡∏á ‡∏£‡πâ‡∏≠‡∏ô ‡∏ô‡∏≠‡∏ô ‡∏ï‡∏∑‡πà‡∏ô", img: null },
            t5: { text: "‡∏Ñ‡∏≥‡∏ô‡∏≤‡∏°: ‡∏Ç‡∏≤ ‡∏°‡∏∑‡∏≠ ‡πÇ‡∏ï‡πä‡∏∞ ‡πÄ‡∏ï‡∏µ‡∏¢‡∏á ‡∏´‡∏ô‡∏±‡∏á ‡∏Ç‡∏ß‡∏î ‡∏à‡∏≤‡∏ô ‡∏ä‡∏≤‡∏° ‡πÑ‡∏ü ‡∏ö‡πâ‡∏≤‡∏ô", img: null },
            t6: { text: "‡∏Ñ‡∏≥ 2 ‡∏û‡∏¢‡∏≤‡∏á‡∏Ñ‡πå: ‡∏î‡∏¥‡∏ô‡∏™‡∏≠ ‡∏¢‡∏≤‡∏á‡∏•‡∏ö ‡∏Å‡∏£‡∏∞‡πÄ‡∏õ‡πã‡∏≤ ‡∏£‡∏≠‡∏á‡πÄ‡∏ó‡πâ‡∏≤ ‡∏™‡∏°‡∏∏‡∏î ‡∏´‡∏°‡∏≠‡∏ô‡∏Ç‡πâ‡∏≤‡∏á ‡∏ï‡∏π‡πâ‡πÄ‡∏¢‡πá‡∏ô ‡∏™‡∏ö‡∏π‡πà ‡∏Ç‡∏ô‡∏° ‡πÑ‡∏ü‡∏ü‡πâ‡∏≤", img: null }
        },
        "s1-3": {
            t7: { text: "‡∏Ñ‡∏≥‡∏Ñ‡∏•‡πâ‡∏≤‡∏¢: ‡∏ï‡∏≤ ‡∏õ‡∏•‡∏≤ ‡∏Å‡∏≤ ‡∏´‡∏°‡∏≤", img: null },
            t8: { text: "‡∏Ñ‡∏≥‡∏Ñ‡∏•‡πâ‡∏≤‡∏¢: ‡πÑ‡∏Å‡πà ‡πÑ‡∏Ç‡πà ‡πÑ‡∏°‡πà ‡πÉ‡∏à", img: null },
            t9: { text: "‡∏Ñ‡∏≥‡∏Ñ‡∏•‡πâ‡∏≤‡∏¢: ‡∏´‡∏°‡∏π ‡∏´‡∏π ‡∏õ‡∏π ‡∏á‡∏π", img: null }
        },
        "s1-4": {
            t10: { text: "‡∏õ‡πâ‡∏≤‡πÅ‡∏™‡∏á‡πÄ‡∏õ‡πá‡∏ô‡∏Ñ‡∏ô‡∏ó‡∏µ‡πà‡∏£‡∏±‡∏Å‡∏ï‡πâ‡∏ô‡πÑ‡∏°‡πâ‡∏°‡∏≤‡∏Å ‡∏ó‡∏∏‡∏Å‡πÄ‡∏ä‡πâ‡∏≤‡πÄ‡∏ò‡∏≠‡∏à‡∏∞‡∏£‡∏î‡∏ô‡πâ‡∏≥‡∏ï‡πâ‡∏ô‡πÑ‡∏°‡πâ‡∏´‡∏ô‡πâ‡∏≤‡∏ö‡πâ‡∏≤‡∏ô ‡πÑ‡∏°‡πà‡∏ß‡πà‡∏≤‡∏à‡∏∞‡∏ù‡∏ô‡∏ï‡∏Å‡∏´‡∏£‡∏∑‡∏≠‡πÅ‡∏î‡∏î‡∏≠‡∏≠‡∏Å ‡∏ß‡∏±‡∏ô‡∏´‡∏ô‡∏∂‡πà‡∏á‡∏ï‡πâ‡∏ô‡∏°‡∏∞‡∏•‡∏¥‡∏Ç‡∏≠‡∏á‡∏õ‡πâ‡∏≤‡πÅ‡∏™‡∏á‡∏≠‡∏≠‡∏Å‡∏î‡∏≠‡∏Å‡∏™‡∏ß‡∏¢‡∏°‡∏≤‡∏Å‡∏à‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô‡∏ö‡πâ‡∏≤‡∏ô‡πÄ‡∏î‡∏¥‡∏ô‡∏ú‡πà‡∏≤‡∏ô‡∏Å‡πá‡∏ï‡πâ‡∏≠‡∏á‡∏ä‡∏° ‡∏õ‡πâ‡∏≤‡πÅ‡∏™‡∏á‡∏¢‡∏¥‡πâ‡∏°‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∏‡∏Ç ‡πÄ‡∏ò‡∏≠‡πÄ‡∏î‡πá‡∏î‡∏î‡∏≠‡∏Å‡∏°‡∏∞‡∏•‡∏¥‡πÑ‡∏õ‡πÉ‡∏™‡πà‡πÅ‡∏à‡∏Å‡∏±‡∏ô‡πÉ‡∏ô‡∏ö‡πâ‡∏≤‡∏ô ‡πÅ‡∏•‡∏∞‡∏û‡∏π‡∏î‡∏Å‡∏±‡∏ö‡∏ï‡πâ‡∏ô‡πÑ‡∏°‡πâ‡∏ß‡πà‡∏≤ ‚Äú‡∏Ç‡∏≠‡∏ö‡πÉ‡∏à‡∏ô‡∏∞ ‡∏ó‡∏µ‡πà‡πÄ‡∏ï‡∏¥‡∏ö‡πÇ‡∏ï‡πÉ‡∏´‡πâ‡∏õ‡πâ‡∏≤‡∏î‡∏π‡∏ó‡∏∏‡∏Å‡∏ß‡∏±‡∏ô‚Äù", img: null },
            t11: { text: "‡∏ß‡∏±‡∏ô‡∏ô‡∏±‡πâ‡∏ô‡∏û‡∏¢‡∏≤‡∏Å‡∏£‡∏ì‡πå‡∏≠‡∏≤‡∏Å‡∏≤‡∏®‡πÅ‡∏à‡πâ‡∏á‡∏ß‡πà‡∏≤‡∏ù‡∏ô‡∏à‡∏∞‡∏ï‡∏Å ‡∏•‡∏∏‡∏á‡πÅ‡∏°‡πâ‡∏ô‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏à‡∏∞‡πÑ‡∏õ‡∏ï‡∏•‡∏≤‡∏î ‡πÅ‡∏ï‡πà‡∏•‡∏∑‡∏°‡∏£‡πà‡∏°‡πÑ‡∏ß‡πâ‡πÉ‡∏ô‡∏ö‡πâ‡∏≤‡∏ô ‡∏û‡∏≠‡πÄ‡∏î‡∏¥‡∏ô‡πÑ‡∏õ‡∏ñ‡∏∂‡∏á‡∏´‡∏ô‡πâ‡∏≤‡∏ã‡∏≠‡∏¢ ‡∏ù‡∏ô‡∏Å‡πá‡∏ï‡∏Å‡∏´‡∏ô‡∏±‡∏Å ‡∏•‡∏∏‡∏á‡πÅ‡∏°‡πâ‡∏ô‡πÄ‡∏•‡∏¢‡∏ß‡∏¥‡πà‡∏á‡∏Å‡∏•‡∏±‡∏ö‡∏°‡∏≤‡∏´‡∏•‡∏ö‡πÉ‡∏ï‡πâ‡∏ä‡∏≤‡∏¢‡∏Ñ‡∏≤‡∏ö‡πâ‡∏≤‡∏ô‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏£‡πà‡∏° ‡πÄ‡∏Ç‡∏≤‡∏ô‡∏±‡πà‡∏á‡∏£‡∏≠‡∏à‡∏ô‡∏ù‡∏ô‡∏ã‡∏≤ ‡πÅ‡∏•‡πâ‡∏ß‡∏à‡∏∂‡∏á‡πÄ‡∏î‡∏¥‡∏ô‡πÑ‡∏õ‡∏ï‡∏•‡∏≤‡∏î‡πÉ‡∏´‡∏°‡πà ‡∏ñ‡∏∂‡∏á‡πÅ‡∏°‡πâ‡∏à‡∏∞‡πÄ‡∏õ‡∏µ‡∏¢‡∏Å‡∏ô‡∏¥‡∏î‡∏´‡∏ô‡πà‡∏≠‡∏¢ ‡πÅ‡∏ï‡πà‡∏•‡∏∏‡∏á‡πÅ‡∏°‡πâ‡∏ô‡∏Å‡πá‡∏¢‡∏±‡∏á‡∏≠‡∏≤‡∏£‡∏°‡∏ì‡πå‡∏î‡∏µ", img: null },
            t12: { text: "‡∏û‡∏µ‡πà‡πÅ‡∏õ‡πâ‡∏á‡∏ï‡∏∑‡πà‡∏ô‡πÄ‡∏ä‡πâ‡∏≤‡∏°‡∏≤‡∏ó‡∏≥‡∏Å‡∏±‡∏ö‡∏Ç‡πâ‡∏≤‡∏ß‡πÉ‡∏´‡πâ‡πÅ‡∏°‡πà ‡∏û‡∏µ‡πà‡πÅ‡∏õ‡πâ‡∏á‡∏Ñ‡∏¥‡∏î‡πÑ‡∏°‡πà‡∏≠‡∏≠‡∏Å‡∏ß‡πà‡∏≤‡∏à‡∏∞‡∏ó‡∏≥‡∏≠‡∏∞‡πÑ‡∏£‡∏î‡∏µ ‡πÄ‡∏•‡∏¢‡πÄ‡∏õ‡∏¥‡∏î‡∏ï‡∏π‡πâ‡πÄ‡∏¢‡πá‡∏ô‡πÄ‡∏à‡∏≠‡πÑ‡∏Ç‡πà 2 ‡∏ü‡∏≠‡∏á‡∏Å‡∏±‡∏ö‡∏ï‡πâ‡∏ô‡∏´‡∏≠‡∏°‡πÄ‡∏•‡πá‡∏Å‡∏ô‡πâ‡∏≠‡∏¢ ‡∏û‡∏µ‡πà‡πÅ‡∏õ‡πâ‡∏á‡πÄ‡∏•‡∏¢‡∏ï‡∏≠‡∏Å‡πÑ‡∏Ç‡πà ‡πÉ‡∏™‡πà‡∏ï‡πâ‡∏ô‡∏´‡∏≠‡∏° ‡πÅ‡∏•‡πâ‡∏ß‡∏ó‡∏≠‡∏î‡πÄ‡∏õ‡πá‡∏ô‡πÑ‡∏Ç‡πà‡πÄ‡∏à‡∏µ‡∏¢‡∏ß‡∏´‡∏≠‡∏°‡∏Å‡∏£‡∏∏‡πà‡∏ô ‡πÅ‡∏°‡πà‡πÄ‡∏î‡∏¥‡∏ô‡∏≠‡∏≠‡∏Å‡∏°‡∏≤‡∏à‡∏≤‡∏Å‡∏´‡πâ‡∏≠‡∏á‡πÅ‡∏•‡∏∞‡∏û‡∏π‡∏î‡∏ß‡πà‡∏≤ ‚Äú‡∏´‡∏≠‡∏°‡∏à‡∏±‡∏á‡πÄ‡∏•‡∏¢‡∏•‡∏π‡∏Å ‡∏ô‡πà‡∏≤‡∏Å‡∏¥‡∏ô‡∏°‡∏≤‡∏Å‚Äù ‡∏û‡∏µ‡πà‡πÅ‡∏õ‡πâ‡∏á‡∏¢‡∏¥‡πâ‡∏°‡∏î‡πâ‡∏ß‡∏¢‡∏Ñ‡∏ß‡∏≤‡∏°‡∏†‡∏π‡∏°‡∏¥‡πÉ‡∏à", img: null }
        },
        "s1-5": {
            t14: { text: "‡∏ï‡∏≤ ‡∏´‡∏π ‡∏à‡∏°‡∏π‡∏Å ‡∏õ‡∏≤‡∏Å ‡∏°‡∏∑‡∏≠ ‡πÅ‡∏Ç‡∏ô ‡∏Ç‡∏≤ ‡πÄ‡∏ó‡πâ‡∏≤ ‡∏ô‡∏¥‡πâ‡∏ß ‡∏ü‡∏±‡∏ô ‡πÄ‡∏•‡πá‡∏ö ‡∏Ç‡πâ‡∏≠‡∏®‡∏≠‡∏Å ‡πÄ‡∏Ç‡πà‡∏≤ ‡∏ú‡∏° ‡∏Ñ‡∏¥‡πâ‡∏ß ‡∏•‡∏¥‡πâ‡∏ô", img: null },
            t16: { text: "‡∏à‡∏≤‡∏ô ‡∏ä‡∏≤‡∏° ‡∏ä‡πâ‡∏≠‡∏ô ‡∏™‡πâ‡∏≠‡∏° ‡∏°‡∏µ‡∏î ‡πÅ‡∏Å‡πâ‡∏ß‡∏ô‡πâ‡∏≥ ‡∏´‡∏°‡πâ‡∏≠ ‡∏Å‡∏£‡∏∞‡∏ó‡∏∞ ‡∏ï‡∏π‡πâ‡πÄ‡∏¢‡πá‡∏ô ‡∏ñ‡∏±‡∏á‡∏Ç‡∏¢‡∏∞ ‡πÅ‡∏õ‡∏£‡∏á‡∏™‡∏µ‡∏ü‡∏±‡∏ô ‡∏¢‡∏≤‡∏™‡∏µ‡∏ü‡∏±‡∏ô ‡πÅ‡∏ä‡∏°‡∏û‡∏π ‡πÇ‡∏ñ‡∏™‡πâ‡∏ß‡∏° ‡∏ù‡∏±‡∏Å‡∏ö‡∏±‡∏ß ‡πÄ‡∏Å‡πâ‡∏≤‡∏≠‡∏µ‡πâ ‡πÇ‡∏ï‡πä‡∏∞", img: null },
            t17: { text: "‡∏ï‡∏∑‡πà‡∏ô ‡πÅ‡∏õ‡∏£‡∏á‡∏ü‡∏±‡∏ô ‡∏•‡πâ‡∏≤‡∏á‡∏´‡∏ô‡πâ‡∏≤ ‡∏≠‡∏≤‡∏ö‡∏ô‡πâ‡∏≥ ‡πÅ‡∏ï‡πà‡∏á‡∏ï‡∏±‡∏ß ‡∏´‡∏ß‡∏µ‡∏ú‡∏° ‡∏Å‡∏¥‡∏ô‡∏Ç‡πâ‡∏≤‡∏ß ‡πÉ‡∏™‡πà‡∏£‡∏≠‡∏á‡πÄ‡∏ó‡πâ‡∏≤ ‡∏ã‡∏±‡∏Å‡∏ú‡πâ‡∏≤ ‡∏•‡πâ‡∏≤‡∏á‡∏à‡∏≤‡∏ô ‡πÄ‡∏î‡∏¥‡∏ô ‡∏ß‡∏¥‡πà‡∏á ‡∏¢‡∏∑‡∏ô ‡∏ô‡∏±‡πà‡∏á ‡∏ô‡∏≠‡∏ô ‡πÄ‡∏•‡πà‡∏ô‡πÇ‡∏ó‡∏£‡∏®‡∏±‡∏û‡∏ó‡πå", img: null }
        },
        "s1-6": {
            t19: { text: "‡∏õ‡∏£‡∏∞‡πÇ‡∏¢‡∏Ñ‡πÉ‡∏ô‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡∏ß‡∏±‡∏ô ‡πÄ‡∏ä‡πà‡∏ô ‡∏Å‡∏¥‡∏ô‡∏Ç‡πâ‡∏≤‡∏ß‡πÅ‡∏•‡πâ‡∏ß ‡πÑ‡∏õ‡∏≠‡∏≤‡∏ö‡∏ô‡πâ‡∏≥ ‡∏•‡πâ‡∏≤‡∏á‡∏°‡∏∑‡∏≠‡∏Å‡πà‡∏≠‡∏ô ‡∏ï‡∏∑‡πà‡∏ô‡πÑ‡∏î‡πâ‡πÅ‡∏•‡πâ‡∏ß ‡πÅ‡∏•‡∏∞‡∏≠‡∏∑‡πà‡∏ô ‡πÜ", img: null },
            t20: { text: "‡∏õ‡∏£‡∏∞‡πÇ‡∏¢‡∏Ñ‡πÉ‡∏ô‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏¢‡∏≤‡∏ß‡∏Ç‡∏∂‡πâ‡∏ô ‡πÄ‡∏ä‡πà‡∏ô ‡πÑ‡∏õ‡∏ó‡∏≤‡∏ô‡∏Ç‡πâ‡∏≤‡∏ß‡∏Å‡∏±‡∏ô‡πÑ‡∏´‡∏° ‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ‡πÄ‡∏õ‡πá‡∏ô‡∏¢‡∏±‡∏á‡πÑ‡∏á‡∏ö‡πâ‡∏≤‡∏á ‡∏≠‡∏≤‡∏Å‡∏≤‡∏®‡∏î‡∏µ‡∏à‡∏±‡∏á‡πÄ‡∏•‡∏¢ ‡∏Å‡∏•‡∏±‡∏ö‡∏ö‡πâ‡∏≤‡∏ô‡∏î‡∏µ ‡πÜ ‡∏ô‡∏∞ ‡πÅ‡∏•‡∏∞‡∏≠‡∏∑‡πà‡∏ô ‡πÜ", img: null },
            t21: { text: "‡∏õ‡∏£‡∏∞‡πÇ‡∏¢‡∏Ñ‡∏Ñ‡∏•‡πâ‡∏≠‡∏á‡∏à‡∏≠‡∏á ‡πÄ‡∏ä‡πà‡∏ô ‡∏™‡∏≤‡∏ß‡πÅ‡∏™‡∏ô‡∏™‡∏ß‡∏¢‡πÉ‡∏™‡πà‡∏™‡∏£‡πâ‡∏≠‡∏¢‡∏™‡∏≤‡∏°‡∏™‡∏¥‡∏ö‡∏™‡∏≠‡∏á‡πÄ‡∏™‡πâ‡∏ô ‡πÅ‡∏•‡∏∞‡∏≠‡∏∑‡πà‡∏ô ‡πÜ", img: null }
        },
        "s1-7": {
            t1: { text: "-", img: null },
            t2: { text: "-", img: null },
            t3: { text: "-", img: null }
        },
        "s1-8": {
            t22: { text: "‡∏õ‡∏£‡∏∞‡πÇ‡∏¢‡∏Ñ‡πÉ‡∏ô‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡∏ß‡∏±‡∏ô ‡πÄ‡∏ä‡πà‡∏ô ‡πÑ‡∏õ‡∏ó‡∏≤‡∏ô‡∏Ç‡πâ‡∏≤‡∏ß‡∏Å‡∏±‡∏ô‡πÑ‡∏´‡∏° ‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ‡πÄ‡∏õ‡πá‡∏ô‡∏¢‡∏±‡∏á‡πÑ‡∏á‡∏ö‡πâ‡∏≤‡∏á", img: null },
            t23: { text: "‡∏õ‡∏£‡∏∞‡πÇ‡∏¢‡∏Ñ‡πÉ‡∏ô‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏¢‡∏≤‡∏ß‡∏Ç‡∏∂‡πâ‡∏ô ‡πÄ‡∏ä‡πà‡∏ô ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏ä‡πâ‡∏≤‡∏ô‡∏µ‡πâ‡∏â‡∏±‡∏ô‡∏ï‡∏∑‡πà‡∏ô‡∏™‡∏≤‡∏¢ ‡∏â‡∏±‡∏ô‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏à‡∏±‡∏î‡∏´‡πâ‡∏≠‡∏á‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÉ‡∏´‡∏°‡πà", img: null },
            t24: { text: "‡∏õ‡∏£‡∏∞‡πÇ‡∏¢‡∏Ñ‡πÉ‡∏ô‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏¢‡∏≤‡∏ß‡∏Ç‡∏∂‡πâ‡∏ô‡∏≠‡∏µ‡∏Å ‡πÄ‡∏ä‡πà‡∏ô ‡∏â‡∏±‡∏ô‡∏ß‡∏≤‡∏á‡πÅ‡∏ú‡∏ô‡∏ß‡πà‡∏≤‡∏à‡∏∞‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏†‡∏≤‡∏©‡∏≤‡∏ó‡∏µ‡πà‡∏™‡∏≤‡∏°‡πÉ‡∏ô‡∏õ‡∏µ‡∏´‡∏ô‡πâ‡∏≤", img: null }
        },
        "s1-9": {
            t1: { text: "-", img: null },
            t2: { text: "-", img: null },
            t3: { text: "-", img: null }
        },
    };

    function updateTemplateInfo(select) {
        const selectId = select.id;
        const selectedValue = select.value;
        console.log(`Updating info for select ID: ${selectId}, selected value: ${selectedValue}`);
        const content = templateDetails[selectId]?.[selectedValue];
        console.log('Content from templateDetails:', content);

        const eachTem = select.closest(".each-tem");
        const rightTem = eachTem.querySelector(".right-tem");
        const textBox = rightTem.querySelector("p");
        const imageBox = rightTem.querySelector("img");



        if (content) {
            if (textBox) {
                textBox.textContent = content.text || "";
            }
            if (imageBox) {
                if (content.img) {
                    imageBox.src = content.img;
                    imageBox.style.display = "block";
                } else {
                    imageBox.style.display = "none";
                }
            }
        }
    }

    // ‚úÖ ‡πÄ‡∏û‡∏¥‡πà‡∏° event listener ‡πÅ‡∏•‡∏∞‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡∏ó‡∏±‡∏ô‡∏ó‡∏µ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÇ‡∏´‡∏•‡∏î‡∏´‡∏ô‡πâ‡∏≤
    document.addEventListener("DOMContentLoaded", () => {
        document.querySelectorAll("select[id^='s1-']").forEach(select => {
            select.addEventListener("change", () => updateTemplateInfo(select));
            updateTemplateInfo(select); // üëà ‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡∏ó‡∏±‡∏ô‡∏ó‡∏µ‡∏ï‡∏≤‡∏°‡∏Ñ‡πà‡∏≤‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô
        });
    });

    // ##### Function to save selected template values
    function saveSelectedTemplates() {
        console.log("===== assign_p2.js - saveSelectedTemplates() is working =====");
        const selectedTemplates = [];
        document.querySelectorAll(".each-tem").forEach(eachTem => {
            // Check if the parent container (.each-tem) is visible
            if (eachTem.style.display !== "none") {
                const select = eachTem.querySelector("select[id^='s1-']");
                if (select) {
                    const activityIdMatch = select.id.match(/s1-(\d+)/);
                    const templateIdMatch = select.value.match(/t(\d+)/);

                    if (activityIdMatch && templateIdMatch) {
                        selectedTemplates.push({
                            activityid: parseInt(activityIdMatch[1], 10),
                            templateid: parseInt(templateIdMatch[1], 10)
                        });
                    }
                }
            }
        });
        console.log("Selected Templates:", selectedTemplates);
        return selectedTemplates;
        // Here you can send `selectedTemplates` to the backend or store it as needed
        // Example: fetch('/save_templates', { method: 'POST', body: JSON.stringify(selectedTemplates) });
    }

    // ##### Event listener for the "Done" button
    document.getElementById("but-done").addEventListener("click", saveSelectedTemplates);

